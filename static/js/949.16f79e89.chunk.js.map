{"version":3,"file":"static/js/949.16f79e89.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieList/movieList.module.css?ccba","components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/components/Searchbar/searchbar.module.css?5778","components/Searchbar/Searchbar.jsx","webpack://react-homework-template/./src/pages/Movies/movies.module.css?e50d","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"movieList_link__I+0hB\",\"list\":\"movieList_list__TWtH3\"};","\nimport { Link, useLocation } from \"react-router-dom\";\nimport styles from '../MovieList/movieList.module.css';\n\n\nconst MoviesList = ({movies, page}) => {\n    const location = useLocation();\n\n\n    const elements = movies.map(({ id, title }) => (<li id={id} key={id}>\n        <Link className={styles.link} to={`/movies/${id}`} state={{from: location}}>{title}</Link>\n    </li>))\n\n    return (\n        <div>\n            {movies &&\n                <ul className={styles.list}>{elements}</ul>\n            }\n        </div>\n            )\n}\nexport default MoviesList;\n\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"searchbar_searchbar__-gvwT\",\"form\":\"searchbar_form__dpKSe\",\"button\":\"searchbar_button__6nuqD\",\"icon\":\"searchbar_icon__6ksS2\",\"buttonLabel\":\"searchbar_buttonLabel__lgAhb\",\"input\":\"searchbar_input__mT5tK\"};","import styles from './searchbar.module.css';\nimport PropTypes from \"prop-types\";\nimport { CiSearch } from \"react-icons/ci\";\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nexport const Searchbar = ({handleClickSubmit}) => {\n  const [search, setSearch] = useState('');\n\n  const onChange = (event) => {\n    setSearch(event.currentTarget.value);\n  }\n\n  const handleClick = (event) => {\n    event.preventDefault();\n\n    if (search === '') {\n      toast.warn(\"Please enter words\");\n      return;\n    }\n\n    handleClickSubmit({search});\n    setSearch('');\n    reset();\n  }\n  \n    const reset = () => {\n        setSearch({\n            search: \"\"\n        });\n    }\n\n    return (<div className={styles.searchbar}>\n      <form onSubmit={handleClick} className={styles.form}>\n        <button type=\"submit\" className={styles.button}>\n          <CiSearch className={styles.icon} />\n          <span className={styles.buttonLabel}>Search</span>\n        </button>\n\n        <input\n          onChange={onChange}\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n        />\n      </form>\n    </div>\n    )\n  }\n\nSearchbar.propTypes = {\n    handleClickSubmit: PropTypes.func,\n  }","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"movies_btn__wCcxe\"};","import { Loader } from \"components/Loader/Loader\";\nimport MoviesList from \"components/MovieList/MovieList\";\nimport { Searchbar } from \"components/Searchbar/Searchbar\";\nimport { useState, useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { getMovieSearch } from \"services/api\";\nimport styles from './movies.module.css';\n\nconst Movies = () => {\n    const [loading, setLoading] = useState(false);\n    const [movies, setMovies] = useState([]);\n    const [showBtnLoadMore, setShowBtnLoadMore] = useState(false); \n    const [totalresults, setTotalresults] = useState('');\n\n    const [searchParams, setSearchParams] = useSearchParams();\n    const search = searchParams.get('query');\n    const page = searchParams.get('page');\n\n\n    const handleClickSubmit = ({ search }) => {\n        setSearchParams({query: search, page : 1})\n    }\n\n    useEffect(() => {\n        if (!search) {\n            return;\n        }\n        setLoading(true);\n        const fetchSearchMovie = async() => {\n            try {\n                const resp = await getMovieSearch(search, page);\n                setMovies(resp.results);\n                setTotalresults(resp.total_results);\n                if (resp.results.length === 0) {\n                    toast.info(\"Sorry, we don`t have movies for this query. Please, enter another word!\")\n                }\n                if (resp.total_results >= 21) {\n                    setShowBtnLoadMore(true);\n                } else {\n                    setShowBtnLoadMore(false);\n                }\n            }\n            catch {\n             toast.error(\"Something wrong...\")\n            }\n            finally {\n                setLoading(false)\n            }\n        }\n        fetchSearchMovie();\n        \n    }, [page, search, setSearchParams])\n\n    useEffect(() => {\n           if (totalresults) {\n          toast.info(`We found ${totalresults} movies!`)\n    }\n    }, [totalresults])\n    \n\n    const btnLoadMore = () => setSearchParams({query: search, page: Number(page) + 1});\n\n    return (\n        <main className={styles.box}>\n            <h1 className=\"hidden\">Search</h1>\n            <Searchbar handleClickSubmit={handleClickSubmit} />\n            {loading && <Loader/>}\n            {Boolean(movies.length) && <MoviesList movies={movies} />}\n            {showBtnLoadMore && <button className={styles.btn} onClick={btnLoadMore} type=\"button\">Next page</button>}\n        </main>\n    )\n\n}\n\nexport default Movies;","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'ec2e434cc9bc9d3a38f01279780f56eb';\n\nconst ENDPOINTS = {\n    POPULAR: '/trending/movie/day',\n    SEARCHWORD: '/search/movie',\n    MOVIE: '/movie',\n    CAST: '/credits',\n    REVIEWS: '/reviews',\n}\n\nexport function getPopularMovies() {\n    return axios.get(`${ENDPOINTS.POPULAR}?api_key=${API_KEY}`)\n        .then(response => response.data);\n}\n\nexport const getMovieDetails = async id => {\n    return axios.get(`${ENDPOINTS.MOVIE}/${id}?api_key=${API_KEY}`)\n    .then(response=> response.data)\n}\n\nexport const getMovieCasts = async id => {\n    return axios.get(`${ENDPOINTS.MOVIE}/${id}${ENDPOINTS.CAST}?api_key=${API_KEY}`)\n    .then(response => response.data)\n}\n\nexport const getMovieReviews = async id => {\n    return axios.get(`${ENDPOINTS.MOVIE}/${id}${ENDPOINTS.REVIEWS}?api_key=${API_KEY}`)\n     .then(response => response.data)\n}\n\nexport const getMovieSearch = async (query, page) => {\n    return axios.get(`${ENDPOINTS.SEARCHWORD}?api_key=${API_KEY}&query=${query}&page=${page}`)\n    .then(response => response.data)\n}\n\n"],"names":["_ref","movies","location","page","useLocation","elements","map","_ref2","id","title","_jsx","children","Link","className","styles","to","concat","state","from","Searchbar","handleClickSubmit","_useState","useState","_useState2","_slicedToArray","search","setSearch","reset","_jsxs","onSubmit","event","preventDefault","toast","type","CiSearch","onChange","currentTarget","value","autoComplete","autoFocus","placeholder","loading","setLoading","_useState3","_useState4","setMovies","_useState5","_useState6","showBtnLoadMore","setShowBtnLoadMore","_useState7","_useState8","totalresults","setTotalresults","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","useEffect","fetchSearchMovie","_asyncToGenerator","_regeneratorRuntime","_callee","resp","_context","prev","next","getMovieSearch","sent","results","total_results","length","t0","finish","stop","apply","arguments","query","Loader","Boolean","MoviesList","onClick","Number","axios","API_KEY","ENDPOINTS","getPopularMovies","then","response","data","getMovieDetails","abrupt","_x","getMovieCasts","_callee2","_context2","_x2","getMovieReviews","_ref3","_callee3","_context3","_x3","_ref4","_callee4","_context4","_x4","_x5"],"sourceRoot":""}